<!DOCTYPE HTML>
<html lang="en" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>Extensions | Bookworm</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.2.0">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="gitbook/style.css">
    
    

        
    
    
    <link rel="next" href="./Future.html" />
    
    
    <link rel="prev" href="./OneClick.html" />
    

        
    </head>
    <body>
        
        
    <div class="book" data-level="8" data-basepath="." data-revision="Mon Aug 10 2015 15:22:25 GMT-0400 (EDT)">
    

<div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Type to search" class="form-control" />
    </div>
    <ul class="summary">
        
        
        
        

        

        
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="./index.html">
                
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="Why.html">
            
                
                    <a href="./Why.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        Why Bookworm?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2" data-path="Building.html">
            
                
                    <a href="./Building.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        Building a Bookworm
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="MySQL.html">
            
                
                    <a href="./MySQL.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                        Configuring MySQL and Apache
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="Requirements.html">
            
                
                    <a href="./Requirements.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                        Required Files
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="input.txt.html">
            
                
                    <a href="./input.txt.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.</b>
                        
                        input.txt
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="JSONcatalog.html">
            
                
                    <a href="./JSONcatalog.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.4.</b>
                        
                        The jsoncatalog.txt
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="field_descriptions.json.html">
            
                
                    <a href="./field_descriptions.json.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.5.</b>
                        
                        field_descriptions.json
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.6" data-path="Running.html">
            
                
                    <a href="./Running.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.6.</b>
                        
                        Running the script
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.7" data-path="Example.html">
            
                
                    <a href="./Example.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.7.</b>
                        
                        An example workflow
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.8" data-path="Maintenance.html">
            
                
                    <a href="./Maintenance.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.8.</b>
                        
                        Maintenance
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3" data-path="Hierarchies.html">
            
                
                    <a href="./Hierarchies.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        Adding Hierarchical Data
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4" data-path="API.html">
            
                
                    <a href="./API.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        The Bookworm API
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1" data-path="api_philosophy.html">
            
                
                    <a href="./api_philosophy.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.</b>
                        
                        API Philosophy
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="query_structure.html">
            
                
                    <a href="./query_structure.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.2.</b>
                        
                        Query Structure
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="Search_Limiting.html">
            
                
                    <a href="./Search_Limiting.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.3.</b>
                        
                        Search Limiting
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5" data-path="Websites.html">
            
                
                    <a href="./Websites.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                        Web Front Ends
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6" data-path="Tokens.html">
            
                
                    <a href="./Tokens.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                        Defining a Token
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7" data-path="OneClick.html">
            
                
                    <a href="./OneClick.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.</b>
                        
                        The One Click Infrastructure
                    </a>
            
            
        </li>
    
        <li class="chapter active" data-level="8" data-path="Extensions.html">
            
                
                    <a href="./Extensions.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.</b>
                        
                        Extensions
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9" data-path="Future.html">
            
                
                    <a href="./Future.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.</b>
                        
                        Future Plans
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="9.1" data-path="Metaworm.html">
            
                
                    <a href="./Metaworm.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.1.</b>
                        
                        Meta-Bookworm
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    


        
        <li class="divider"></li>
        <li>
            <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                Published with GitBook
            </a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Table of Contents"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search" aria-label="Search"><i class="fa fa-search"></i></a>
    
    <div id="font-settings-wrapper" class="dropdown pull-left">
        <a href="#" class="btn toggle-dropdown" aria-label="Font Settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="buttons">
        <button type="button" id="reduce-font-size" class="button size-2">A</button>
        <button type="button" id="enlarge-font-size" class="button size-2">A</button>
    </div>

    <div class="buttons font-family-list">
        <button type="button" data-font="0" class="button">Serif</button>
        <button type="button" data-font="1" class="button">Sans</button>
    </div>

    <div class="buttons color-theme-list">
        <button type="button" id="color-theme-preview-0" class="button size-3" data-theme="0">White</button>
        <button type="button" id="color-theme-preview-1" class="button size-3" data-theme="1">Sepia</button>
        <button type="button" id="color-theme-preview-2" class="button size-3" data-theme="2">Night</button>
    </div>
</div>

    </div>

    <!-- Actions Right -->
    
    <div class="dropdown pull-right">
        <a href="#" class="btn toggle-dropdown" aria-label="Share"><i class="fa fa-share-alt"></i>
        </a>
        <div class="dropdown-menu font-settings dropdown-left">
            <div class="dropdown-caret">
                <span class="caret-outer"></span>
                <span class="caret-inner"></span>
            </div>
            <div class="buttons">
                <button type="button" data-sharing="twitter" class="button">
                    Share on Twitter
                </button>
                <button type="button" data-sharing="google-plus" class="button">
                    Share on Google
                </button>
                <button type="button" data-sharing="facebook" class="button">
                    Share on Facebook
                </button>
                <button type="button" data-sharing="weibo" class="button">
                    Share on Weibo
                </button>
                <button type="button" data-sharing="instapaper" class="button">
                    Share on Instapaper
                </button>
            </div>
        </div>
    </div>
    

    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Google"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Twitter"><i class="fa fa-twitter"></i></a>
    
    
    


    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="./" >Bookworm</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h1 id="extensions">Extensions</h1>
<p>There are a lot of logical ways to extend out Bookworm to work with established tools for text analysis. We want to make this easy without requiring enormous bloat in the core package.</p>
<h2 id="installing-creating-extensions">Installing/creating extensions.</h2>
<p>The /extensions folder in a Bookworm is not created by default, but can be filled with folders; each folder is an installed extension.</p>
<p>Each extension should be a git repository that can be cloned into that extensions location. The single command <code>make</code> run in that directory should run the build; it&apos;s permissible for an extension to require command-line input.</p>
<p>That directory location means it will have access to your local bookworm configuration and other information. For example: once the geotagger builds its own metadata file,</p>
<p><code>bookworm add_metadata extensions/geotagger/metadata.txt filename</code></p>
<h2 id="existing-under-development-extensions">Existing/under development Extensions</h2>
<h3 id="topic-modeling">Topic Modeling</h3>
<p>The topic modeling extension adjusts the master wordcounts file so that each word has a topic assignment.</p>
<h4 id="challenges">Challenges</h4>
<ol>
<li>Currently, it doesn&apos;t filter for stopwords, which is mathematically justifiable but hurts interpretability.</li>
<li>Should there be multiple topics run?</li>
</ol>
<h3 id="the-bootstrapper">The Bootstrapper.</h3>
<p>It&apos;s hard to quantify the error associated with counts over time. <a href="https://github.com/bmschmidt/Bookworm-Bootstrap" target="_blank">Bookworm-bootstrap</a> builds a bunch of different bootstrapped samples in which the same book can appear multiple times; that gives some sense of what random variation might be doing to your sample.</p>
<h3 id="the-sampler">The sampler</h3>
<p>The bootstrapper lets you replicate sample error by drawing from your full sample: the <a href="https://github.com/bmschmidt/Bookworm-samples" target="_blank">bookworm-samples</a> package simply creates a new dummy metadata variable for every single document in your set, assigning it to one of 100 groups.</p>
<p>This makes it possible to draw from a random distribution to see if the results you&apos;re getting are realistic.</p>
<h3 id="geopositioner">Geopositioner</h3>
<p>Given the name of field that contains place names, add in a longitude-latitude formatted set of places.</p>
<p>Previously we stored latitude and longitude as separate fields. While there were a few nice features to that (you could search inside a bounding box), it was pretty inefficient compared to grouping on a single point. So now Bookworm stores all geolocation data as <strong>json strings</strong> consisting of latitude,longitude. So the location of New York City would be encoded as: <code>&quot;[40.7127,-74.0059]&quot;</code>.</p>
<p>You could probably also write that as <code>&quot;[40.7127,285.9941]&quot;</code>; but as a standard, we&apos;ll say that the negative numbers are the only supported one. (Unless someone tells me otherwise is better).</p>
<h3 id="geotagger">Geotagger</h3>
<p>The Geotagger will work by parsing a text using the Stanford NLTK named entity extractor, pulling out persons, locations, and entities. The results could then be run through the geopositioner plugin.</p>
<h2 id="extensions-we-want">Extensions we want</h2>
<h3 id="the-linked-open-data-interchange">The Linked Open Data interchange.</h3>
<p>This would be the most amazing thing possible, and possibly worth building in as core funcationality. In essence: say you have a field <code>author_id</code>, and that corresponds to an identifier on some other page. By using a linked open data interchange, you could simply specify the source and the middle element of an RDF triple, and have the values automatically pulled in by some SPARQL process or something. The use of specific URIs in the <code>field_descriptions.json</code> field would enormously facilitate this.</p>
<h3 id="serial-killer">Serial Killer</h3>
<p>Implement the Ngrams serial killer algorithm in Bookworm. Been done once, but might be a nice pocket example of how this can work on the OL/Hathi data.</p>
<h3 id="university-linker">University Linker.</h3>
<p>On my mind because of one Bookworm in particular, but with an academic audience it might be nice to have some pathway to populating texts that contain unstructured text of university names with all the data about universities in ICOADS.</p>
<h3 id="genderation">Genderation</h3>
<p>Given a field that contains names (first or complete), add fields to the Bookworm that include gender both as a flat determination and as a probability. Ideally, should take some logic about the birth year of the person into account (19th century Leslies are male, etc.). Could be implemented using my old code, which is a bit more flexible, or Lincoln Mullen&apos;s R package, which I&apos;ve used on one Bookworm.</p>
<h2 id="strategies-for-handling-data">Strategies for handling data</h2>
<h3 id="accessing-the-raw-text">Accessing the raw text.</h3>
<p>Extensions may access not just the database, but the raw creation files themselves.</p>
<p>Currently, a few extensions access the <code>input.txt</code> file. For example, in the geotagger extension:</p>
<pre><code>metadata.txt:
    cat ../../files/texts/input.txt | parallel  --block-size 1M --pipe ./tagAChunk.sh &gt; metadata.txt
</code></pre><p>This is clearly a bad idea, since it will break on other file storage techniques. Newer extension should use the protocol <code>bookworm tokenize text_stream</code>, or if you want whitespace-delimited tokens, <code>bookworm tokenize text_stream | book tokenize token_stream</code>. </p>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="./OneClick.html" class="navigation navigation-prev " aria-label="Previous page: The One Click Infrastructure"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="./Future.html" class="navigation navigation-next " aria-label="Next page: Future Plans"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="gitbook/app.js"></script>

<script>
require(["gitbook"], function(gitbook) {
    var config = {"fontSettings":{"theme":null,"family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
